---
const { href, text, disabled = false } = Astro.props;
---

<li
  class={[
    "text-white text-lg font-bold bg-[#976FF1] rounded-r-4xl transition-colors duration-300",
    disabled ? "opacity-50 cursor-not-allowed" : "hover:cursor-pointer hover:bg-[#7806F1]"
  ].join(' ')}
  style="padding: 0;"
  id={`link-li-${href.replace(/[^a-zA-Z0-9]/g, '')}`}
>
  <a
    href={disabled ? undefined : href}
    class="block w-full h-full py-2.5 px-3.5"
    style="text-decoration: none; color: inherit;"
    tabindex={disabled ? "-1" : "0"}
    aria-disabled={disabled}
    onclick={disabled ? 'event.preventDefault();' : undefined}
  >
    {text}
  </a>
</li>

<script type="module">
  const li = document.getElementById(`link-li-${href.replace(/[^a-zA-Z0-9]/g, '')}`);
  if (li) {
    li.addEventListener('click', (e) => {
      // Evitar doble navegaci√≥n si se hace click en el <a>
      if (e.target.tagName.toLowerCase() !== 'a') {
        window.location.href = "{href}";
      }
    });
  }
</script>
